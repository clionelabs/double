<template name="assistantTasksDetail">
  <div class="task-item">
    <div class="main">
      <i class="glyphicon {{ checkedIfTaskCompleted }}"></i>
      <span class="title">{{ title }}</span>
      <i class="glyphicon glyphicon-pencil edit"></i>
      <i class="glyphicon glyphicon-comment comment"></i>
      <i class="glyphicon glyphicon-link link"></i>
      <button class="btn btn-primary {{ isStartOrPause.toLowerCase }}" {{disabledIfTaskCompleted}}>
        <i class="glyphicon glyphicon-time"></i> {{ isStartOrPause }}
      </button>
    </div>
    <div class="forms">
      {{> assistantTasksDetailStatusForm }}
      {{> assistantTasksDetailLinkForm }}
    </div>
    {{> assistantTasksDetailDescriptionForm }}
    {{#if getLatestStatus}}
      {{> assistantTasksDetailSubItem statusToMessage getLatestStatus }}
    {{/if}}
    {{#each referencesToMessage }}
      {{> assistantTasksDetailSubItem this}}
    {{/each}}
    {{> assistantTasksDetailSubItem totalDurationToMessage this.totalDuration }}
  </div>
</template>

<template name="assistantTasksDetailSubItem">
  <div class="sub {{ type }}-container">
    <i class="glyphicon glyphicon-{{ type }} type"></i>
    {{> Template.dynamic template=taskSubItemMessage }}
    <i class="glyphicon glyphicon-minus-sign {{ type }}-delete {{ allowDelete type }}" data-task-id="{{ taskId }}"></i>
  </div>
</template>
